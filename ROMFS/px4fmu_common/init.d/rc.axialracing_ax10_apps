#!nsh
#
# Standard apps for rovers:
# att & pos estimator, rover steering control
#
#gps stop

ekf_att_pos_estimator start
#
# Start attitude controller
#
rv_pos_control start
usleep 100000
rover_md25_control start

usleep 100000
#start mavlink custom stream on telem2 (/dev/ttyS2 internally) with 921600 and ftp enabled (-x)
mavlink start -m custom -d /dev/ttyS2 -b 921600 -x
usleep 100000
mavlink stream -d /dev/ttyS2 -s HEARTBEAT -r 5
usleep 100000
mavlink stream -d /dev/ttyS2 -s STATUSTEXT -r 1
usleep 100000
mavlink stream -d /dev/ttyS2 -s SYS_STATUS -r 1
usleep 100000
mavlink stream -d /dev/ttyS2 -s PARAM_VALUE -r 200
usleep 100000
mavlink stream -d /dev/ttyS2 -s HIGHRES_IMU -r 50
usleep 100000
mavlink stream -d /dev/ttyS2 -s ATTITUDE -r 50
usleep 100000
mavlink stream -d /dev/ttyS2 -s ATTITUDE_QUATERNION -r 50
usleep 100000
mavlink stream -d /dev/ttyS2 -s GLOBAL_POSITION_INT -r 5
usleep 100000
mavlink stream -d /dev/ttyS2 -s LOCAL_POSITION_NED -r 5
usleep 100000
mavlink stream -d /dev/ttyS2 -s ATTITUDE_CONTROLS -r 10
usleep 100000
